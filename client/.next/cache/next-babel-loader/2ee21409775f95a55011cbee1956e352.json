{"ast":null,"code":"var _jsxFileName = \"F:\\\\StackoverflowClone\\\\client\\\\components\\\\post\\\\post-summary\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport formatDistanceToNowStrict from 'date-fns/formatDistanceToNowStrict';\nimport { AuthContext } from '../../../store/auth';\nimport { FetchContext } from '../../../store/fetch';\nimport Tag from '../../tag';\nimport styles from './post-summary.module.css';\n\nconst PostSummary = ({\n  tags,\n  author,\n  created,\n  questionId,\n  answerId,\n  setQuestion,\n  children\n}) => {\n  var _authState$userInfo;\n\n  const {\n    authState,\n    isAdmin\n  } = useContext(AuthContext);\n  const {\n    authAxios\n  } = useContext(FetchContext);\n  const router = useRouter();\n\n  const handleDeleteComment = async () => {\n    const res = window.confirm('Are you sure delete your post?');\n\n    if (res) {\n      const {\n        data\n      } = await authAxios.delete(answerId ? `/answer/${questionId}/${answerId}` : `/question/${questionId}`);\n\n      if (answerId) {\n        setQuestion(data);\n      } else {\n        router.push('/');\n      }\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: styles.postCell,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, children), __jsx(\"div\", {\n    className: styles.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.tagContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, tags === null || tags === void 0 ? void 0 : tags.map(tag => __jsx(Tag, {\n    key: tag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, tag))), __jsx(\"div\", {\n    className: styles.userDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/users/[user]\",\n    as: `/users/${author.username}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: `https://secure.gravatar.com/avatar/${author.id}?s=32&d=identicon`,\n    alt: author.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }))), __jsx(\"div\", {\n    className: styles.info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, tags ? 'asked' : 'answered', ' ', formatDistanceToNowStrict(new Date(created), {\n    addSuffix: true\n  })), __jsx(Link, {\n    href: \"/users/[user]\",\n    as: `/users/${author.username}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, author.username))))), (((_authState$userInfo = authState.userInfo) === null || _authState$userInfo === void 0 ? void 0 : _authState$userInfo.id) === author.id || isAdmin()) && __jsx(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    className: styles.delete,\n    onClick: () => handleDeleteComment(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"delete\"))));\n};\n\nexport default PostSummary;","map":{"version":3,"sources":["F:/StackoverflowClone/client/components/post/post-summary/index.js"],"names":["React","useContext","useRouter","Link","formatDistanceToNowStrict","AuthContext","FetchContext","Tag","styles","PostSummary","tags","author","created","questionId","answerId","setQuestion","children","authState","isAdmin","authAxios","router","handleDeleteComment","res","window","confirm","data","delete","push","postCell","text","footer","row","tagContainer","map","tag","userDetails","username","id","info","Date","addSuffix","userInfo"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,yBAAP,MAAsC,oCAAtC;AAEA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,YAAT,QAA6B,sBAA7B;AAEA,OAAOC,GAAP,MAAgB,WAAhB;AAEA,OAAOC,MAAP,MAAmB,2BAAnB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AACnBC,EAAAA,IADmB;AAEnBC,EAAAA,MAFmB;AAGnBC,EAAAA,OAHmB;AAInBC,EAAAA,UAJmB;AAKnBC,EAAAA,QALmB;AAMnBC,EAAAA,WANmB;AAOnBC,EAAAA;AAPmB,CAAD,KAQd;AAAA;;AACJ,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAyBjB,UAAU,CAACI,WAAD,CAAzC;AACA,QAAM;AAAEc,IAAAA;AAAF,MAAgBlB,UAAU,CAACK,YAAD,CAAhC;AACA,QAAMc,MAAM,GAAGlB,SAAS,EAAxB;;AAEA,QAAMmB,mBAAmB,GAAG,YAAY;AACtC,UAAMC,GAAG,GAAGC,MAAM,CAACC,OAAP,CAAe,gCAAf,CAAZ;;AACA,QAAIF,GAAJ,EAAS;AACP,YAAM;AAAEG,QAAAA;AAAF,UAAW,MAAMN,SAAS,CAACO,MAAV,CACrBZ,QAAQ,GACH,WAAUD,UAAW,IAAGC,QAAS,EAD9B,GAEH,aAAYD,UAAW,EAHP,CAAvB;;AAMA,UAAIC,QAAJ,EAAc;AACZC,QAAAA,WAAW,CAACU,IAAD,CAAX;AACD,OAFD,MAEO;AACLL,QAAAA,MAAM,CAACO,IAAP,CAAY,GAAZ;AACD;AACF;AACF,GAfD;;AAiBA,SACE;AAAK,IAAA,SAAS,EAAEnB,MAAM,CAACoB,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEpB,MAAM,CAACqB,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8Bb,QAA9B,CADF,EAEE;AAAK,IAAA,SAAS,EAAER,MAAM,CAACsB,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEtB,MAAM,CAACuB,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEvB,MAAM,CAACwB,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtB,IADH,aACGA,IADH,uBACGA,IAAI,CAAEuB,GAAN,CAAWC,GAAD,IACT,MAAC,GAAD;AAAK,IAAA,GAAG,EAAEA,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgBA,GAAhB,CADD,CADH,CADF,EAME;AAAK,IAAA,SAAS,EAAE1B,MAAM,CAAC2B,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,eAAX;AAA2B,IAAA,EAAE,EAAG,UAASxB,MAAM,CAACyB,QAAS,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,GAAG,EAAG,sCAAqCzB,MAAM,CAAC0B,EAAG,mBADvD;AAEE,IAAA,GAAG,EAAE1B,MAAM,CAACyB,QAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,EASE;AAAK,IAAA,SAAS,EAAE5B,MAAM,CAAC8B,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5B,IAAI,GAAG,OAAH,GAAa,UADpB,EACgC,GADhC,EAEGN,yBAAyB,CAAC,IAAImC,IAAJ,CAAS3B,OAAT,CAAD,EAAoB;AAC5C4B,IAAAA,SAAS,EAAE;AADiC,GAApB,CAF5B,CADF,EAOE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,eAAX;AAA2B,IAAA,EAAE,EAAG,UAAS7B,MAAM,CAACyB,QAAS,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIzB,MAAM,CAACyB,QAAX,CADF,CAPF,CATF,CANF,CADF,EA6BG,CAAC,wBAAAnB,SAAS,CAACwB,QAAV,4EAAoBJ,EAApB,MAA2B1B,MAAM,CAAC0B,EAAlC,IAAwCnB,OAAO,EAAhD,KACC;AAAK,IAAA,SAAS,EAAEV,MAAM,CAACuB,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAEvB,MAAM,CAACkB,MAArB;AAA6B,IAAA,OAAO,EAAE,MAAML,mBAAmB,EAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CA9BJ,CAFF,CADF;AA0CD,CAxED;;AA0EA,eAAeZ,WAAf","sourcesContent":["import React, { useContext } from 'react'\r\nimport { useRouter } from 'next/router'\r\nimport Link from 'next/link'\r\nimport formatDistanceToNowStrict from 'date-fns/formatDistanceToNowStrict'\r\n\r\nimport { AuthContext } from '../../../store/auth'\r\nimport { FetchContext } from '../../../store/fetch'\r\n\r\nimport Tag from '../../tag'\r\n\r\nimport styles from './post-summary.module.css'\r\n\r\nconst PostSummary = ({\r\n  tags,\r\n  author,\r\n  created,\r\n  questionId,\r\n  answerId,\r\n  setQuestion,\r\n  children\r\n}) => {\r\n  const { authState, isAdmin } = useContext(AuthContext)\r\n  const { authAxios } = useContext(FetchContext)\r\n  const router = useRouter()\r\n\r\n  const handleDeleteComment = async () => {\r\n    const res = window.confirm('Are you sure delete your post?')\r\n    if (res) {\r\n      const { data } = await authAxios.delete(\r\n        answerId\r\n          ? `/answer/${questionId}/${answerId}`\r\n          : `/question/${questionId}`\r\n      )\r\n\r\n      if (answerId) {\r\n        setQuestion(data)\r\n      } else {\r\n        router.push('/')\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={styles.postCell}>\r\n      <div className={styles.text}>{children}</div>\r\n      <div className={styles.footer}>\r\n        <div className={styles.row}>\r\n          <div className={styles.tagContainer}>\r\n            {tags?.map((tag) => (\r\n              <Tag key={tag}>{tag}</Tag>\r\n            ))}\r\n          </div>\r\n          <div className={styles.userDetails}>\r\n            <Link href=\"/users/[user]\" as={`/users/${author.username}`}>\r\n              <a>\r\n                <img\r\n                  src={`https://secure.gravatar.com/avatar/${author.id}?s=32&d=identicon`}\r\n                  alt={author.username}\r\n                />\r\n              </a>\r\n            </Link>\r\n            <div className={styles.info}>\r\n              <span>\r\n                {tags ? 'asked' : 'answered'}{' '}\r\n                {formatDistanceToNowStrict(new Date(created), {\r\n                  addSuffix: true\r\n                })}\r\n              </span>\r\n              <Link href=\"/users/[user]\" as={`/users/${author.username}`}>\r\n                <a>{author.username}</a>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {(authState.userInfo?.id === author.id || isAdmin()) && (\r\n          <div className={styles.row}>\r\n            <a className={styles.delete} onClick={() => handleDeleteComment()}>\r\n              delete\r\n            </a>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostSummary\r\n"]},"metadata":{},"sourceType":"module"}